<!-- <script src="./promise.js"></script>
<script>
  console.log(MyPromise.resolve);
  const promise = new MyPromise((resolve, reject) => {
  setTimeout(() => {
    resolve("success");
  }, 1000);
});
promise
  .then((value) => {
    // console.log(1)
    // console.log('resolve', value)

    return {
      then() {
      console.log(1)
    }
    }
  })
  .then((value) => {
    console.log(2);
    console.log("resolve", value);
  })
  .then((value) => {
    console.log(3);
    console.log("resolve", value);
  });
</script> -->
<!-- <script>

  Function.prototype.bind2 = function(oThis) {
    if (typeof this !== "function") {
      // 与 ECMAScript 5 最接近的
      // 内部 IsCallable 函数
      throw new TypeError('aaaaa');
    }
    var aArgs = Array.prototype.slice.call( arguments, 1 ),
      fToBind = this,
      fNOP = function(){},
      fBound = function(){
        return fToBind.apply((this instanceof fNOP && oThis ? this : oThis), aArgs.concat(Array.prototype.slice.call( arguments )))
      };
    fNOP.prototype = this.prototype;
    fBound.prototype = new fNOP();
    return fBound
  }


  function Test (name) {
    this.name = name
  }

  let Test2 = Test.bind2({c: 1})

  let t = new Test2('name2')

  console.log(t);
</script> -->


<!-- <script>
   // 模拟异步请求
const request = (url, time) => {
  return new Promise((resolve) => {
    setTimeout(() => {
      resolve(`任务 ${url.padEnd(10, ' ')}完成`)
    }, 1000 * time)
  })
}

/**
 * 并发控制函数
 * @param {*} tasks
 * @param {*} max
 */
async function myAsyncPool(tasks = [], max = 3) {
  // 正在执行的任务数组
  let pool = []
  for (let i = 0; i < tasks.length; i++) {
    // 生成异步任务
    const task = request(tasks[i], i)
    // 添加到正在执行的任务数组
    pool.push(task)
    task.then((data) => {
      // 当任务执行完毕, 将其从正在执行任务数组中移除
      console.log(`${data}; 当前并发数: ${pool.length}`)
      pool.splice(pool.indexOf(task), 1)
    })

    // 当并发池满了, 就先去执行并发池中的任务, 有任务执行完成后, 再继续循环
    if (pool.length === max) {
      console.log(123123);
      await Promise.race(pool)
    }
  }
}
const tasks = new Array(10).fill('').map((task, i) => `url - ${i + 1}`)
myAsyncPool(tasks, 3)
</script> -->
<style>
</style>
<img src="" alt="">
<button class="class">点击</button>
<script>
console.log(document.body.contains(document.querySelector('button')));
console.log(document.querySelector('button').matches('.clas'));

document.querySelector('button').addEventListener('click', e => {
  console.log(e.target);
}, true)
</script>